ATM using java, design patterns & refactoring